{"ast":null,"code":"import anecdoteService from '../services/anecdotes';\nimport { createSlice } from \"@reduxjs/toolkit\";\nconst anecdoteSlice = createSlice({\n  name: 'anecdotes',\n  initialState: [],\n  reducers: {\n    incrementVote(state, action) {\n      const id = action.payload;\n      return state.map(anecdote => {\n        if (anecdote.id === id) {\n          return {\n            ...anecdote,\n            votes: anecdote.votes + 1\n          };\n        }\n        return anecdote;\n      });\n    },\n    appendAnecdote(state, action) {\n      state.push(action.payload);\n    },\n    setAnecdotes(state, action) {\n      return action.payload;\n    }\n  }\n});\nexport const {\n  incrementVote,\n  appendAnecdote,\n  setAnecdotes\n} = anecdoteSlice.actions;\nexport const initializeAnecdotes = () => {\n  return async dispatch => {\n    const anecdotes = await anecdoteService.getAll();\n    dispatch(setAnecdotes(anecdotes));\n  };\n};\nexport const createAnecdote = content => {\n  return async dispatch => {\n    const newAnecdote = await anecdoteService.createNew(content);\n    dispatch(appendAnecdote(newAnecdote));\n  };\n};\nexport const anecdoteVote = id => {\n  return async dispatch => {\n    const updateLike = await anecdoteService.addLike(id);\n    dispatch(incrementVote(updateLike));\n  };\n};\n/*export const updateAnecdote = () => {\n\n  dispatch()\n}*/\n\nexport default anecdoteSlice.reducer;","map":{"version":3,"names":["anecdoteService","createSlice","anecdoteSlice","name","initialState","reducers","incrementVote","state","action","id","payload","map","anecdote","votes","appendAnecdote","push","setAnecdotes","actions","initializeAnecdotes","dispatch","anecdotes","getAll","createAnecdote","content","newAnecdote","createNew","anecdoteVote","updateLike","addLike","reducer"],"sources":["/home/erikpeteri/FullStackOpen/osa6/redux-anecdotes/src/reducers/anecdoteReducer.js"],"sourcesContent":["import anecdoteService from '../services/anecdotes'\nimport { createSlice } from \"@reduxjs/toolkit\"\n\nconst anecdoteSlice = createSlice({\n  name: 'anecdotes',\n  initialState: [],\n  reducers: {\n    incrementVote(state, action) {\n      const id = action.payload\n      return state.map(anecdote => {\n        if (anecdote.id === id) {\n          return {\n            ...anecdote,\n            votes: anecdote.votes + 1\n          }\n        }\n        return anecdote\n      })\n    },\n    appendAnecdote(state, action) {\n      state.push(action.payload)\n    },\n    setAnecdotes(state, action) {\n      return action.payload\n    }\n  }\n})\n\nexport const {incrementVote, appendAnecdote, setAnecdotes} = anecdoteSlice.actions\n\nexport const initializeAnecdotes = () => {\n  return async dispatch => {\n    const anecdotes = await anecdoteService.getAll()\n    dispatch(setAnecdotes(anecdotes))\n  }\n}\n\nexport const createAnecdote = content => {\n  return async dispatch => {\n    const newAnecdote = await anecdoteService.createNew(content)\n    dispatch(appendAnecdote(newAnecdote))\n  }\n}\n\nexport const anecdoteVote = id => {\n  return async dispatch => {\n    const updateLike = await anecdoteService.addLike(id)\n    dispatch(incrementVote(updateLike))\n  }\n}\n/*export const updateAnecdote = () => {\n\n  dispatch()\n}*/\n\nexport default anecdoteSlice.reducer\n"],"mappings":"AAAA,OAAOA,eAAe,MAAM,uBAAuB;AACnD,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,aAAa,GAAGD,WAAW,CAAC;EAChCE,IAAI,EAAE,WAAW;EACjBC,YAAY,EAAE,EAAE;EAChBC,QAAQ,EAAE;IACRC,aAAa,CAACC,KAAK,EAAEC,MAAM,EAAE;MAC3B,MAAMC,EAAE,GAAGD,MAAM,CAACE,OAAO;MACzB,OAAOH,KAAK,CAACI,GAAG,CAACC,QAAQ,IAAI;QAC3B,IAAIA,QAAQ,CAACH,EAAE,KAAKA,EAAE,EAAE;UACtB,OAAO;YACL,GAAGG,QAAQ;YACXC,KAAK,EAAED,QAAQ,CAACC,KAAK,GAAG;UAC1B,CAAC;QACH;QACA,OAAOD,QAAQ;MACjB,CAAC,CAAC;IACJ,CAAC;IACDE,cAAc,CAACP,KAAK,EAAEC,MAAM,EAAE;MAC5BD,KAAK,CAACQ,IAAI,CAACP,MAAM,CAACE,OAAO,CAAC;IAC5B,CAAC;IACDM,YAAY,CAACT,KAAK,EAAEC,MAAM,EAAE;MAC1B,OAAOA,MAAM,CAACE,OAAO;IACvB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAACJ,aAAa;EAAEQ,cAAc;EAAEE;AAAY,CAAC,GAAGd,aAAa,CAACe,OAAO;AAElF,OAAO,MAAMC,mBAAmB,GAAG,MAAM;EACvC,OAAO,MAAMC,QAAQ,IAAI;IACvB,MAAMC,SAAS,GAAG,MAAMpB,eAAe,CAACqB,MAAM,EAAE;IAChDF,QAAQ,CAACH,YAAY,CAACI,SAAS,CAAC,CAAC;EACnC,CAAC;AACH,CAAC;AAED,OAAO,MAAME,cAAc,GAAGC,OAAO,IAAI;EACvC,OAAO,MAAMJ,QAAQ,IAAI;IACvB,MAAMK,WAAW,GAAG,MAAMxB,eAAe,CAACyB,SAAS,CAACF,OAAO,CAAC;IAC5DJ,QAAQ,CAACL,cAAc,CAACU,WAAW,CAAC,CAAC;EACvC,CAAC;AACH,CAAC;AAED,OAAO,MAAME,YAAY,GAAGjB,EAAE,IAAI;EAChC,OAAO,MAAMU,QAAQ,IAAI;IACvB,MAAMQ,UAAU,GAAG,MAAM3B,eAAe,CAAC4B,OAAO,CAACnB,EAAE,CAAC;IACpDU,QAAQ,CAACb,aAAa,CAACqB,UAAU,CAAC,CAAC;EACrC,CAAC;AACH,CAAC;AACD;AACA;AACA;AACA;;AAEA,eAAezB,aAAa,CAAC2B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}